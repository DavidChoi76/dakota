env:
  matrix:
    - TRAVIS_PYTHON_VERSION="2.7"

os:
  - linux
  - osx

before_install:
  - echo "Build on $TRAVIS_OS_NAME"
  - if [[ "$TRAVIS_TAG" == v* ]]; then export BUILD_STR=""; else export BUILD_STR="dev"; fi
  - source .ci/travis/install_python.sh
  - conda info -a
  - conda build -q -c csdms .conda
  - pip install coveralls
  - source .ci/travis/install_dakota.sh
  - dakota --version

install:
  - conda install -q -c csdms csdms-dakota --use-local

script:
  - nosetests --with-doctest --with-coverage --cover-package=csdms.dakota

after_success:
  - coveralls --verbose
